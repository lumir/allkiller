- Alquiler::PRICES.each do |key,value|   
  = hidden_field_tag "#{key}", value
.span4
  = f.label "Nombre:"
  = f.text_field :name
  = f.label "Cedula:"
  = f.text_field :identifier
  = f.label "Direccion:"
  = f.text_field :address
  = f.label "Telefono:"
  = f.text_field :phone
.span4
  = f.label "Fecha:"
  = f.text_field :deliver_date, :class => "datepicker" 
  = f.label "Sillas:"
  = f.text_field :chairs, :class => "pricing", "data-pricing" => "chairs"
  = f.label "Mesitas:"
  = f.text_field :tables, :class => "pricing", "data-pricing" => "tables"
  = f.label "Mezones:"
  = f.text_field :big_tables, :class => "pricing", "data-pricing" => "big_tables"
.span4
  = f.label "Manteles sencillos:"
  = f.text_field :tablecloth, :class => "pricing", "data-pricing" => "tablecloth"
  = f.label "Manteles Grandes:"
  = f.text_field :big_tablecloth, :class => "pricing", "data-pricing" => "big_tablecloth"
  = f.label "Abono:"
  = f.text_field :abono
  = f.label "Total:"
  = f.text_field :total  



:javascript
  $(function(){

    $(".pricing").change(function(){
      var pricing = $(this).attr("data-pricing");      
      var ammount = parseInt($(this).val());      
      var price = parseInt($("#"+pricing).val());            
      var result = price * ammount      
      var current_total = $("#alquiler_total").val();      
      if(current_total == ""){
        current_total = 0;
      }
      var new_total = parseFloat(current_total) + result      
      $("#alquiler_total").val(new_total)
    });


    $(".datepicker").datepicker({
      changeMonth: true,
      changeYear: true,
      dateFormat: "yy-mm-dd",
      onSelect: function(dateText,inst){

        $.ajax({
          url: "/get_availables",
          type: "GET",          
          data: {'selected_date' : dateText}
        })

      }
    });


  });
